# オブジェクト指向とは


オブジェクト指向とは、**それぞれ独立して出来たモノを、互いに組み立てて、全体の機能を作り出す考え方**です。
 
ざっくり言いますと、

「個々で部品を作り、それら組み立て、一つの物を作る」**DIYのようなもの**だと言えるでしょう。


## オブジェクト指向が誕生した背景

ITが発展すると共に、コンピューターといかに効率よく、スムーズにやり取りをするかというのは、  
人類の課題の一つです。

オブジェクト指向が誕生する前、コンピュータ―と人間は、アルファベットと数字でやりとりをしていました。  
(機械語)　　

意味のないアルファベットと数字の羅列は、人間にとって覚えるのがとても困難でした。  
そこで、この問題を解決するために、単語を使ったプログラミング言語が誕生しました。  
(アセンブリ語の誕生、そして高級言語へ)  

しかし、もう一つ問題がありました。  

当時のできあがったプログラムは、複数の機能、データ、ルールなど、全てを一緒くたにして書き連ねられ、  
やたら長い文でした。  

どこに何が書かれているのか、とても分かりづらかったのです。

**そこで誕生したのが、オブジェクト指向です。**  

オブジェクト指向では、情報ごとにクラス分けをし、クラスごとに名前を付け、  
何のデータが書かれているのかを分かりやすくしました。  

これにより、共同開発が楽になり、また、作ったデータを別の開発に使いまわせるようになりました。

## オブジェクト指向の目的

オブジェクト指向が目指したことは、

- 情報を分類！**理解しやすい！**[保守性]


- データと機能ごとにクラスを作成！**修正しやすい！**[品質向上]


- よく使うモノであればパターンとして保存！**使いまわす！**[再利用]  


そのために取り入れられたメインの考え方が、

1. クラスとインスタンス

2. 継承

3. ポリモーフィズム

です。


## オブジェクト指向で、情報を「整理整頓」（超初級編）

---

１　クラスとインスタンスを作る。

---

問題：  
車の部品を思いつく限り、あげてみましょう。  

答えの例：  
タイヤ、窓、エンジン、エンジンシャフト・・・

あげてくれた答えは、すべてクラスになりえます。  

タイヤを例にすると、クラスを作ることは、「タイヤ製造機を作りました。」とお知らせすることです。  
``` 製造機は、「型」、「ひな型」と呼ばれることもあります。 ```


ただ、この製造機には、  

タイヤとは**どんな働きをするものなのか？**(機能)、  
タイヤとは**どんなタイプのものなのか？**（データ)  

という情報は**入っていません。**


「タイヤってものを作るけど・・・どんな？？？」


曖昧ですよね。

そこで、製造機に機能を加えます。  

タイヤは前にも後ろにも回るなど、  

**機能**のことを、**メソッド**と呼びます。  

次に、データです。  

「機能は分かったけど、どんなタイヤにしますか？」

そこで、色や回転数など、  

**データを具体的に定義したのが、インスタンスです。**  


<まとめ>  
クラスとは、インスタンスをたくさん作る製造機の働きと同時に、機能とデータをとりまとめる働きもしています。  

インスタンスとは、１つ１つの具体的な実例です。

オブジェクト指向では、それぞれのクラスを合わせて、最終的に一つの大きな機能を作り出します。  

## 実際にコードを書いてみよう！  

**クラスを作る**  

class Car  

end  

<メモ>  
- クラス名は大文字ではじめます。また、数字から始めることはできません。  
- endで閉じます。  

**次にclass Carとendの間にメソッドを定義します。**  

class Car  

  def initialize(carname)  
    @name = carname  
  end  
  
  def put_name  
    puts "This is #{@name}"  
  end  
  
end  

<メモ>  

- メソッドは、defの後に任意で決めたメソッドの名前を書きます。  
- endで逐一閉じます。  
- defとendの間に、メソッドの具体的な働きを定義します。  
- initializeメソッドに関しては、後ほど記述します。

**最後に、インスタンスを作ります。**  

car1 = Car.new("prius")  

car2 = Car.new("aqua")  

<メモ>  

- インスタンスはクラス名とnewメソッドを使って作ります。  
- ("　")で、インスタンスに独自の名前を渡しています(名札のようなもの)。ただ、インスタンスは名前を渡されても、このままではキープできません。  
それを可能にしているのが、initializeメソッドです。

**initializeメソッドとは？**  

 def initialize(carname)  
 
  @name = carname  
 
 end  
 
- @nameは、インスタンスがcarnameを保持するための箱の役割を担っています。  
- @をつけることで、class内ならどこからでも呼び出せます。  
- initializeメソッドは、インスタンスを作っているnewメソッドが呼ばれるたびに働き、**値を初期値(ここでの初期値はcarname)に戻して、それぞれのインスタンスに渡した独自の名前を呼び出すことを可能にしています。**  
（ストップウォッチのカウンターをリセットして00に戻す、別の処理がされていたものをスタート値に戻すというようなイメージです。）

<まとめ>  

class Car  

  def initialize(carname)  
    @name = carname  
  end  
  
  def put_name  
    puts "This is #{@name}"    
  end  
  
end    

car1 = Car.new("prius")  

car2 = Car.new("aqua")  

car1.put_name  

car2.put_name  

====画面上の表示====  

This is prius  

This is aqua  


---

２　継承

---

継承とは、大きいカテゴリーのクラスで、小さいカテゴリーのクラスをマルっと括ることです。  
そうすることで、大きいカテゴリーのクラスの機能を、小さいカテゴリーのクラスで呼び出すことができます。  
``` <補足>大きいカテゴリーのクラスをスーパークラスと言います。小さいカテゴリーのクラスをサブクラスと言います。 ```

**☆スーパークラスの考え方**  

問題：  
「車は〇〇である」の〇〇の部分を答えなさい。

答え：  
乗り物  （乗り物以外でも可。車は〇〇であるという文法が成立すればok☆）  

この、○○に当てはまるモノが、スーパークラスになります。  


**☆スーパークラスに定義する機能は？**  

○○に共通する機能  
例：  
前に進む、右に曲がる、左に曲がる、止まるなど


**☆スーパークラスで括る利点**  
車、飛行機、電車など、クラスを複数作ったときに、乗り物という共通機能を持つスーパークラスを作ってしまえば、重複する機能は一度書くだけで済みます。

###### 情報を漏れなく、ダブりなくという考え方は、設計する上で大切になってきます。こんな記事も読んでみると面白いかも知れません。[MECEって？ロジカルシンキングの基本的考え方を理解して思考の抜け漏れを防ごう](https://ferret-plus.com/4387)


---

３　ポリモーフィズム

---

ポリモーフィズムとは、スーパークラスにメソッドを定義し、サブクラスで実装することです。

通常、クラス内では、１つのインスタンスに複数のメソッドが働きます。

例：  
車というインスタンスに、走る、止まるなど。

ポリモーフィズムでは、  

**１つのメソッドが、複数のインスタンスに働きかけることができます。**  

例：  
走るというメソッドが、車、バス、トラックなど、それぞれのインスタンスに働きかけます。

**☆それって、継承と一緒じゃないの？**

継承では、サブクラスに同じ動作、同じふるまいを呼び出しますが、  

ポリモーフィズムでは、同じ動作でも、**異なるふるまいを呼び出すことが可能です。**  

例：  
図形というスーパークラスに、「形作る」というメソッドをもたせます。  
```　すべてのクラス（ここでは図形クラスに属するサブクラス）に共通する、けれど、ふるまいは異なるメソッドのことを、抽象メソッドと呼びます。 ```

サブクラスには、三角形、四角、丸などが考えられます。  
すべて「形作る」という動作は同じですが、出来上がったふるまいは異なります。

**☆継承とポリモーフィズムの利点**  
情報の一本化（共通の情報を一つにまとめる）  
継承は、情報を丸ごと借りてくることで情報の重複をなくし、ポリモーフィズムは、情報を抽象化してまとめることで、それぞれのクラスで異なる具体的なふるまいを決定することができ、機能追加や修正に柔軟性を与えています。


【参考文献】  
平澤章『オブジェクト指向でなぜつくるのか　第２版』日経BP社，２０１１年，ｐ．３６８  　

【参考ソーシャルメディア】  
小野雅裕　[足立研セミナー:オセロ大会／Javaプログラミング入門講座 -オブジェクト指向を理解する](https://www.youtube.com/watch?v=KW5aafq8CGk)；Youtube  
Simon Allardice　[Computer programming: What is object-oriented language? | lynda.com overview](https://www.youtube.com/watch?v=SS-9y0H3Si8)；Youtube  
